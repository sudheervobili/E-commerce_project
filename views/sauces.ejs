<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Sauce Items</title>
		<link
			href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
			rel="stylesheet"
		/>
		<link
			rel="stylesheet"
			href="https://use.fontawesome.com/releases/v5.7.0/css/all.css"
		/>
		<style>
			/* Custom CSS for vegetable cards */
			.card {
				border: 1px solid #ccc;
				border-radius: 8px;
				box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
				transition: box-shadow 0.3s ease-in-out;
				height: 100%;
			}

			.card:hover {
				box-shadow: 0 8px 16px rgba(0, 0, 0, 0.2);
			}

			.card img {
				border-top-left-radius: 8px;
				border-top-right-radius: 8px;
				width: 100%; /* Make sure image fills the container */
				height: 200px; /* Fixed height for all images */
				object-fit: contain; /* Ensure entire image fits within the container */
			}

			.card-body {
				padding: 10px 20px;
				height: 100%;
				display: flex;
				flex-direction: column;
			}

			.card-title {
				font-size: 1.2rem;
				margin-bottom: auto; /* Push other elements to the top */
			}

			.card-text {
				color: #666;
				margin-bottom: auto; /* Push other elements to the top */
			}

			.btn {
				margin-top: auto; /* Push button to the bottom */
				text-align: center; /* Center button */
			}

			.btn button {
				background-color: #007bff;
				color: #fff;
				border: none;
				border-radius: 4px;
				padding: 6px 12px;
				cursor: pointer;
				transition: background-color 0.3s ease-in-out;
			}

			.btn button:hover {
				background-color: #0056b3;
			}

			.btn i {
				margin-right: 5px;
			}
		</style>
	</head>

	<body>
		<%- include('navbar') %> <% if (alertMessage) { %>
		<script>
			alert("item added to cart");
		</script>
		<% } %>
		<h1 style="text-align: center">Sauces</h1>
		<br /><br />
		<div class="container h-100">
			<div class="row row-cols-1 row-cols-md-3 g-4">
				<% for (let i = 0; i < sauces.length; i++) { %>
				<div class="col">
					<div class="card h-100">
						<img
							class="card-img-top"
							src="<%= sauces[i].imageUrl %>"
							alt="<%= sauces[i].name %>"
						/>
						<div class="card-body">
							<h2 class="card-title text-center"><%= sauces[i].name %></h2>
							<p class="card-text text-center">
								Quantity: <%= sauces[i].quantity %>
							</p>
							<h5 class="text-center">Rs <%= sauces[i].price.toFixed(2) %></h5>
							<div class="d-flex justify-content-between align-items-center">
								<form action="/update-vegetable/<%= sauces[i]._id %>" method="GET">
									<input type="hidden" name="<%= sauces[i]._id %>">
									<button type="submit" class="btn btn-secondary">
										Update <i class="fas fa-edit"></i>
									</button>
								</form>
								<form action="/delete-item" method="POST">
									<input type="hidden" name="itemid" value="<%= sauces[i]._id %>">
									<input type="hidden" name="itemcategory" value="sauces">
									<button type="submit" class="btn btn-danger">
										Delete <i class="fas fa-trash-alt"></i>
									</button>
								</form>
								<form action="/add-to-cart" method="POST">
									<input type="hidden" name="id" value="<%= sauces[i]._id %>"/>
									<input type="hidden" name="quantity" value="<%= sauces[i].quantity %>"/>
									<input type="hidden" name="price" value="<%= sauces[i].price.toFixed(2) %>"/>
									<input type="hidden" name="name" value="<%= sauces[i].name %>"/>
									<button type="submit" class="btn btn-primary">
										Add <i class="fas fa-cart-plus"></i>
									</button>
								</form>
							</div>
						</div>
					</div>
				</div>
				<% } %>
			</div>
		</div>

		<script>
			function validateQuantity(inputElement) {
				if (inputElement.value < inputElement.min) {
					inputElement.value = inputElement.min;
				}
			}
			const clickButton = document.getElementById("btn-1");
			clickButton.addEventListener("click", () => {
				window.location.href = "/additem";
			});
		</script>
	</body>
</html>
